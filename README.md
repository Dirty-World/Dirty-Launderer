[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![CI Build](https://github.com/the-dirty-launderer/dirty-launderer/actions/workflows/python-tests.yml/badge.svg)](https://github.com/the-dirty-launderer/dirty-launderer/actions/workflows/python-tests.yml)
[![Docs](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://the-dirty-launderer.github.io/dirty-launderer)
[![Version](https://img.shields.io/badge/version-1.0.0-blue)](#)

# Dirty Launderer ðŸ§¼

![a3ca62e7-0fc7-4a3b-bfd7-a861dde5df88](https://github.com/user-attachments/assets/9ba31cb1-75c4-4198-9222-48476874cd87)


ðŸ’ƒ *A lady in the streets, and clean in the sheetsâ€¦ of tracking parameters.* ðŸ§¼

A privacy-first Telegram bot that automatically cleans tracking parameters from URLs, and proxies uncleanable links using services like Invidious, Nitter, Libreddit, and more.

## ðŸ”§ Features

- Auto-cleans URLs from common trackers
- Supports proxying via privacy frontends
- Fully admin-configurable via Telegram commands
- PII-safe logging to Google Cloud Logging
- Modular domain handl!ae12-00dade79fa31)
er design
- Cloud Functions + Firestore + Terraform + GitHub Actions 

## ðŸ“¦ Repo Structure

```
dirty-launderer/
â”œâ”€â”€ bot/                  # Telegram bot source code
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ admin/            # Admin command handlers
â”‚   â”œâ”€â”€ handlers/         # Domain-specific link handlers
â”‚   â”œâ”€â”€ utils/            # Firestore + proxy helpers
â”œâ”€â”€ terraform/            # Infrastructure as code (GCP)
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ budget.tf
â”‚   â”œâ”€â”€ github.tf
â”œâ”€â”€ dist/                 # Deployment ZIP (autogenerated)
â”œâ”€â”€ post_apply.sh         # Optional webhook registrar
â”œâ”€â”€ .github/workflows/    # GitHub Actions
â”‚   â””â”€â”€ deploy.yml
â”œâ”€â”€ README.md
```

## ðŸš€ Deployment

1. **Add secrets to GitHub**:
    - `GCP_CREDENTIALS`
    - `GCP_PROJECT_ID`
    - `TELEGRAM_BOT_TOKEN`
    - `ADMIN_CHAT_ID`
    - `GCS_BUCKET_NAME`

2. **Push to main branch** â†’ GitHub Actions will:
    - Zip bot/
    - Upload to GCS
    - Run `terraform apply` from terraform/

3. **Webhook is auto-registered via post_apply.sh or Cloud Function**

## ðŸ¤– Telegram Commands

Run `/setcommands` in BotFather and paste:

```
setdomain - Set handling for a specific domain
listdomains - View all domain rules
resetdomains - Reset domain settings to default
setdefault - Set default behavior for unknown domains
setlogging - Enable or disable safe logging
showlogging - View current logging mode
previewdomain - Preview handling for a domain
tools - Show admin tools
welcome - Show welcome/help message
ping - Check if the bot is running and webhook is healthy
alerttest - Test an admin alert
status - Check bot status and webhook info
proxies - Show count of active proxy frontends
configsummary - Show this group's domain config
commands - Show a full list of bot commands
```

## ðŸ’¬ Credits

Made by [you], deployed serverlessly on GCP.
